@import "compass/css3/opacity";
@import "compass/css3/box-shadow";

@import "base";
@import "storymaps";

body {
	background: {
		color: $darkest-gray;
	}
}

#map .container{
	max-width: none;
}

#story-pane{
	position: absolute;
	right: 10%;
	height: 100%;
	width: 23%;
	min-width: 300px;
	max-width: 450px; 
	z-index: 100;
}

.touch #story-pane{
	width: 100%;
	max-width: none;
	min-width: none;
	right: auto;
	bottom: 15%;
}

.touch #story-pane.expanded{
	bottom: 0;
}

.touch #scroll-indicator{
	display: none;
}

.backdrop{
	position: absolute;
	background: {
		color: $darkest-gray;
	}
	top: 0;
	height: 100%;
	width: 100%;
	@include opacity(0.7);
}

.swiper-container{
	height: 100%;
	width: 100%;
}

.swiper-slide{
	height: 100%;
	width: 100%;
	overflow: hidden;
}

.touch .swiper-slide{
	overflow: auto;
	-webkit-overflow-scrolling: touch;
}

.item-title{
	color: $white;
	margin: {
		left: 10%;
		bottom: 10%;
		right: 10%;
	}
	font:{
		size: 1.85em;
	}
}

.item-title:first-child{
	margin-top: 10%;
}

.item-description{	
	color: $lightest-gray;
	margin: {
		top: 10%;
		left: 10%;
		bottom: 15%;
		right: 10%;
	}
	font: {
		size: 1.1em;
		family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
	}
	text:{
		align: justify;
	}
}

.scroll-up, .scroll-down{
	text: {
		align: center;
	}
	color: $lighter-gray;
	font: {
		size: 2em;
	}
	margin: {
		top: 5%;
		bottom: 5%;
	}
	cursor: pointer;
}

#intro-indicator{
	color: $white;
	text: {
		align: left;
	}
	margin-left: 10%;
}

#intro-indicator span{
	font: {
		size: 2em;
	}
	vertical: {
		align: middle;
	}
}

.touch .scroll-up, .touch .scroll-down{
	display: none;
}

.touch .item-title{
	margin: 15px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.touch .expanded .item-title{
	margin: 5%;
	white-space: normal;
	overflow: hidden;
	text-overflow: inherit;
}

.touch .item-description{
	display: none;
	margin: 5%;
}

.touch .expanded .item-description{
	display: block;
}

#locator-wrapper{
	position: absolute;
	bottom: 20px;
	left: 20px;
	padding: 5px;
	cursor: pointer;
	animation: showLocator .75s;
	-webkit-animation: showLocator .75s;
}

#locator-backdrop{
	margin-left: -5px;
}

#locator-toggle{
	display: none;
	position: relative;
	color: $white;
	font: {
		family: $header-font;
	}
	text: {
		align: right;
	}
	padding: {
		top: 2px;
		bottom: 5px;
	}
}

.hidden #locator-toggle, #locator-wrapper:hover #locator-toggle {
	display: block;
}

.disabled #locator-toggle {
	display: none;
}

#locator-wrapper.hidden{
	bottom: -225px;
	animation: hideLocator .75s;
	-webkit-animation: hideLocator .75s;
}

#locator-wrapper.disabled{
	padding: {
		top: 0;
	}
	bottom: -225px;
}

#locator-map{
	position: relative;
	background: $darkest-gray;
	height: 220px;
	width: 280px;
}

.icon-down-narrow, .icon-up-narrow, .icon-down-thick, .icon-up-thick{
	font: {
		family: "fontello";
	}
}

.icon-toggle-arrow:before{
	font: {
		family: "fontello";
	}
	content: '\e802';
}

.hidden .icon-toggle-arrow:before{
	content: '\e803';
}

// Locator Animations
@keyframes showLocator
{
from {bottom: -225px;}
to {bottom: 20px;}
}

@-webkit-keyframes showLocator
{
from {bottom: -225px;}
to {bottom: 20px;}
}

@keyframes hideLocator
{
from {bottom: 20px;}
to {bottom: -225px;}
}

@-webkit-keyframes hideLocator
{
from {bottom: 20px;}
to {bottom: -225px;}
}